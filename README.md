# Lakehouse MedIKal Care 

The main goal of this portfolio is to demo how to create a **Lakehouse** using Azure services. This new architecture and data storage paradigm combines the characteristics of both data warehouses and data lakes to create a **UNIFIED** basis for **all types of use cases** to be built on top of it.
**Delta protocol** is the key ingredient that will offer features that span all fours system, DW, DL, Streaming, and Machine Learning. We need to build our lakehouses upon four pillars, reliability, performance, governance, and quality; [Delta](https://delta.io/) is the perfect match for this use case.

---
# Meet the Company
![MedIKal_Care-removebg-preview](https://user-images.githubusercontent.com/62630272/198887790-cfe556eb-0d99-4981-98dd-cde69a50debc.png)

MedIKal Care Healthcare is a private hospital that attends to a variety of patients from different countries, including Portugal, Germany, Brazil, Italy,French, USA, Mexico, and the United Kingdom. They have a large structure concerning, doctors, specialties at different shifts and distribution of medicines in their pharmacies.
# Demands from the Company
The CEO aligned with the Head of IT would like to democratize access to the data for different personas once they have the correct privileges they can consume it.

### Their demands were :
- Build a Lakehouse because down the road, they want to have BI applications, AI, and ML use cases. By doing this we can elaborate an **SSOT** ( Single Source of Truth ) to be used on the future.
> All the data, they have nowadays is stored on two different servers/databases hosted on **Azure**.
- MySQL database
- Postgres database
> Both databases have a common name, called *ikhospital* and they said, all tables within this one, could be used to get insights.
- A third data provider is about to be implemented, a streaming device in each pharmacy, which sends stream data regarding the distribution of medicines for their patients. They asked to integrate the streaming data on the data lake.
- Usage of Power BI to create reports/dashboards. Besides the Lakehouse, they would like to have a Global View of the hospital on the Power BI dashboard.
- They use Azure as a cloud provider and they wanna keep it as it is.

---
# Blueprint of the Architecture
![Architecture MedIKal](https://user-images.githubusercontent.com/62630272/199869379-da7d82d9-840b-44e5-8560-ceb2560a2a4a.png)

--- 
# Data Providers
 The data was generated by me using Python. A glimpse about it:
 - Libraries used, mentioned on the *requeriments.txt* file.
 - I used Classes to create the `Class Hospital` and `Class Pharmacy`, inside the classes, I added the fake tables.
   - Classes were good to keep interchangeable between database on Azure and Local ( Running on Docker Containers ).
   - I used one API from [FDA](https://www.fda.gov/) mentioned below.

> The Food and Drug Administration is responsible for protecting public health by ensuring the safety, efficacy,
and security of human and veterinary drugs, biological products, and medical devices; and by ensuring the safety of our nation's food supply, cosmetics, and products that emit radiation.
- The Databases, Tables, and fields were generated using SQL commands, it was not generated by the Python Code.
  - Included on this repo. 
- All the **Business Logic** I built, e.g:
  - In general only Female older than 14 can be attended by a Gynecologist.
  - Only Male guys can be attended by a Urologist.
  - Childs could be attended by a General Doctor or a Pediatrician.
    - ![image](https://user-images.githubusercontent.com/62630272/199871085-bdf454f8-c9fe-4e6b-9dd9-8aafac83bd95.png)
  - The Symptoms for each area may vary, Oncologist is responsible for Cancer not for Rhinitis.
    - ![image](https://user-images.githubusercontent.com/62630272/199871006-7a92a7c4-f662-4f44-80e7-906da55ceac6.png)

  - Everything is available on the CSV files that I imported as an example.
 - The Tables are:
   - **Medicine**, contains the medicines coming from the [FDA](https://www.fda.gov/) API.
   - **Events**, registers the events on the hospital.
   - **Doctors** is a table containing all the doctors who works on MedIKal Care.
   - **Shift**, the shift that hospital works.
   - **Patient**, caontains all my registered patients.
  - Streaming Device:
    - Send data regarding the distribution of medicines to the patients.
